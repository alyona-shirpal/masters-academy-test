(()=>{"use strict";(async()=>{try{const t=await(async()=>{const t=await fetch("https://api.escuelajs.co/api/v1/products");if(!t.ok){const e=`An error has occured: ${t.status}`;throw new Error(e)}const e=await t.json();return console.log(e),e})();t.length>0?t.map((t=>(t=>{const e=document.querySelector(".grid"),n=document.createElement("div");n.classList.add("product");const c=document.createElement("img");c.src=t.images[0],c.classList.add("product-image"),c.onerror=function(){c.src="https://placehold.co/600x600"};const d=document.createElement("h2");d.textContent=t.title,d.classList.add("product-title");const o=document.createElement("p");o.textContent=((t,e)=>{const n=t.split(" ");return n.length>3?n.slice(0,3).join(" ")+"...":t})(t.description),o.classList.add("product-description");const s=document.createElement("button");s.textContent="Read More",s.classList.add("read-more-button"),s.addEventListener("click",(()=>{o.textContent=t.description,s.style.display="none"}));const a=document.createElement("div");a.classList.add("info"),a.appendChild(d);const r=document.createElement("div");r.classList.add("description-wrapper"),r.appendChild(o),r.appendChild(s),a.appendChild(r);const i=document.createElement("div");i.classList.add("last-block");const p=document.createElement("div");p.textContent=t.category.name,p.classList.add("category"),a.appendChild(p);const l=document.createElement("div");l.classList.add("price-wrapper"),l.innerHTML=`<p>Price</p> <p class="product-price">$${t.price}</p>`,i.appendChild(l);const u=document.createElement("button");u.textContent="Add to Cart",u.classList.add("product-button"),i.appendChild(u),a.appendChild(i),n.appendChild(c),n.appendChild(a),e.appendChild(n)})(t))):console.log("No products found")}catch(t){throw new Error(`Error fetching products:', ${t.message}`)}})()})();